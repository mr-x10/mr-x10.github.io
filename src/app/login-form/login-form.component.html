<div class="login-component">
  <div class="login-form">
    <mat-progress-bar mode="indeterminate" class="progress-bar" *ngIf="isLoggingIn"></mat-progress-bar>
    <h1 class="form-header">Login</h1>
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">

      <mat-form-field appearance="outline" hintLabel="Your email, 5 ~ 100 characters length." class="mat-form-field">
        <mat-label>Email</mat-label>
        <input matInput type="text" formControlName="email" maxlength="100" #email_input>
        <mat-hint align="end">{{email_input.value.length}}/100</mat-hint>
        <mat-error>{{getEmailErrorMessage()}}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" hintLabel="Choose a strong password to keep hackers away, 8 ~ 28 characters." class="mat-form-field">
        <mat-label>Password</mat-label>
        <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" maxlength="28" #password_input>
        <button mat-icon-button matSuffix type="button" (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-hint align="end">{{password_input.value.length}}/28</mat-hint>
        <mat-error>{{getPasswordErrorMessage()}}</mat-error>
      </mat-form-field>

      <a routerLink="/password-reset">Forgot password?</a>

      <button mat-raised-button color="primary" [disabled]="!loginForm.valid||isLoggingIn">Login</button>

      <p>Don't have an account? <a routerLink="/register">Register</a></p>
    </form>
  </div>
</div>
